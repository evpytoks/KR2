# Описание архитектуры системы
Система состоит из трёх микросервисов. Они взаимодействуют друг с дргуом по HTTP, развернуты в единой Docker-сети.
БД - PostgreSQL, используется в двух экземплярах: analysisbd - для хранения результатов анализа и filebd - для хранения файлов. Для демонстрации функциональности используется Swagger. 

## API Gateway
Принимает внешние запросы и занимается маршрутизацией запросов к остальным микросервисам.
Имеет контроллер PlagiarismDetectorController, нужен для API запросов. Через конфиг IConfiguration получает URL микросервисов. 
Через HttpClient отправляет запросы в другие микросервисы.
## File Analysis Service
Возвращает анализ содержимого файла. Если анализ уже выполнялся, то возвращает сохраненный результат. Иначе выполняет анализ, сохраняет его
и возврашает результат. Имеет AnalyseController, нужен для API запросов. AnalysisService - проводит анализ. 
ResultStoringService - добавляет и извлекает результаты из БД. AnalysisbdContext - для работы с БД. Через конфиг IConfiguration получает URL микросервисов. 
Через HttpClient отправляет запросы в другие микросервисы. 
## File Storing Service
Сохраняет, хранит и возвращает файлы из БД. Имеет контроллер FileController, нужен для API запросов. MakeHashService нужен для хеширования текста файла.
FilebdContext - для работы с БД.

# Спецификация API
Порты: API Gateway - 8080, File Analysis Service - 8081, File Storing Service 8082. Вся спецификация описана в Swagger.

# Функционал
- Загрузить файл. При загрузке проверяется есть ли уже такой файл в системе, если есть, то возвращается ошибка. Иначе он сохраняется, а возвращается его id.
- Анализ файла. Нужно ввести id файла, которых хочется проанализировать. Будет проверка анализировался ли такой файл раньше. Если да, то вернётся его анализ. Иначе анализ будет проведен, сохранен в системе и возвращен. Анализ состоит из: id файла, количества слов в файле, количества символов в файле, количество абзацев в файле.
- Возврат файла. Нужно ввести id файла, который хочется получить. Если такой файл есть в БД, то он вернется. Иначе будет ошибка.
